داکر چیست :
            یک پلتفرم برای ساخت اپلیکشن های ما به نوعی پایدار است
            پایداریعنی ما یک اپلیگشنی رو روی سیتم خودمون توسعه دادیم
            و میتونیم اون رو توی هرکامپیوتر دیگه ای بدون مشکل ران کنیم
            به راحتی با داکر میتونیم اپلیکشن رو تبدیل به یک پکیج کنیم
            به همراه هرچیزه دیگه ای که این اپلیکشن برای ران شدن بهش نیاز داره 
            و میتونیم به راحتی این پکیج رو روی هرماشین دیگه یا کامپوتر دیگه ای که داکر روش نصب هست پیاده کنیم
            وخیالمون راحته زمانی که بدون هیچ مشکلی روی سیستم ما کار کرده 
            روی سیستم دیگه ای بدون مشکل کار میکنه
             همچنین دردسری برای کانفیگ کردن اپلیکشن روی سیتم های دیگه ای رو نداریم
           میگویند  container به محیط ایزوله ای که داکر برای اپلیکشن های ما می سازد   

----------------------------------------------------------------------------------
contaner : 
           این محیط ایزوله به ما این امکان رو میدهد که چند اپلیکشن
           رو به موازات همدیگه اجرا کنیم و هرکدوم از این اپلیکشن ها
           ورژن های مختلفی را اجرامیکنند   
           مثال یک اپلیکشن ورژن 10 نودجی اس را اجرا میکند
           و اپلیکشن دیگر ورژن 20 نودجی اس را اجرا میکند
           و این دو هیچ تداخل و یا کانفیلیکتی باهم ندارند
----------------------------------------------------------------------------------
container و vm  تفاوت :         
            
            میتونیم روی هر سیستم هر تعدادی که میخواهیم ماشین مجازی ایجاد کنیم
            مثلا روی یکی از ماشین های مجازی سیستم عامل ویندوز و روی دیگری لینوکس
            نصب کنیم
            وبرای اینکار میتوانیم از هایپروایزر استفاده کنیم تا ماشین های مجازی خود را مدیریت 
            کنیم
            خوبیه ماشین مجازی توی چیه:
                                      میتونیم اپلیکیشن رو توی یک محیط ایزوله ران کنیم
                                      برای مثال روی یک سخت افزار دو ماشین مجازی نصب میکنیم
                                      که هرکدوم یک اپلیکشن با دپندنسی های مختلفی رو ران میکنن
                                 
            بدیه ماشین مجازی چیه :
                                    به یک کپی کامل از سیستم عامل احتیاج داره
                                    و واقعا سنگین است یعنی هرماشین مجازی یک بخش 
                                    از سخت افزار رو به طور کامل برمیداره و همین
                                    امر باعث میشود م بتوانیم تعداد محدودی ماشین مجازی 
                                    نصب کنیم
   اما در دارکر :
                اجرا کنیم container  میتونیم چند اپلیکیشن رو به کمک 
                و هرکدوم از اپلیکشن ها مدل ایزوله خود را داشه باشند
                وبه طریقی بسیار سبکتر از ماشین مجازی وهمه کانتینر ها روی سیستم عاملی
                که میخواهد ان هارا اجرا کند اجرا میشوند
                و این عمل باعث میشود سرعت کار و مدیریت اپلیکیشن ها
                به نسبت ماشین مجازی بسیار بسیار بالاتر باشد
--------------------------------------------------------------------------------------
معماری داکر : 
             داکر از یک معماری کلاینت سرور استفاده میکند
             پس یک کلاینت داریم و یک سرور که بخش کلاینت
             از طریق رست فول ای پی ای با کامپوننت سرور ارتباط برقرار میکند
             به کامپوننت سرور داکر انجین میگویندکه در بک گراند اجرا
             میشود و مسئول اجرا کردن کانتینر ها است
             از نظر پیاده سازی یک کانتینر یک پراسس است

            نکته : 
                     کرنل سیستم عامل بین تمام کانتینر ها اجرا میشود
                     درواقع کرنل یک سیستم عامل مانند موتور یک ماشین میماند
                     ودرواقع بخشی از سیستم عامل است که بخشی از سخت افزار
                     و اپلیکیشن هارا مدیریت میکند
                     هرکدام از این مرنل ها سیستم عامل های مختص خود را دارند
                     و حتی ای پی ای های مختص خودرا نیز دارا هستند
       نتیجه گیری : 
                    درکل اگر کانتینری را روی لینوکس اجرا میکنیم فقط مختص به لینوکس خواهدبود
                    اما میتوانیم روی ویندوز هم کانتینر های لینوکس و هم ویندوز را اضافه کنیم
                    چون از ویندوز 10 به بعد کرنل ویندوز در کنار کرنل لینوکس قرار دارند


                     
 ------------------------------------------------------------------------------------
 خب حالا میخواهیم داکر فایل به یک پروژه نود جی اسی اضافه کنیم
  داکر فایل چیست : 

                   داکر فایل یک فایل متنی است و شامل یمسری دستورالعمل ها است      
                   و داکر ازاین دستور العمل ها برای تبدیل کردن اپلیکیشن ما       
                   استفاده میکند image  به یک        
         چیست image : 
                           حاوی هران چیزی است که اپلیکشن ما برای اجراشدن
                           بهش نیاز داره
                           میتونیم image و بعد از ساخته شدن این 
                           اون رو به یک کانتینر بدیم تا اپلیکشن مارو برامون راه اندازی کنه
                           خب حالا که این امیج را داریم میتوانیم ان رابر روی داکر هاب ایجاد کنیم
                           داکر هاب برای داکر مثل گیت هاب برای گیت میمونه
                           حالا در هر کامپوتری که باشیم و داکر روی اون نصب باشه
                           میتونیم اون امیج رو از داکر هاب دانلود کنیم
                           وبه وسیله داکر ان را اجرا کنیم
                           بدون اینکه بخواهیم چیزی را نصب و یا پیکر بندی کنیم|

                           
                       
                  
-------------------------------------------------------------------
   خب حالا اگر بخواهیم برنامه خودرا داکررایز کنیم به 4 دستورالعمل نیاز داریم

   1- میخواهیم بگوییم به یک سیستم عامل نیاز داریم
   2- نیازداریم نود رو بر روی این سیستم عامل نصب کنیم
   3- فایل های این اپلیکشن رو برروی اون فایل سیستم قرار بده
   4-  رو به کمک نود اجرا کنیم server.ts وباید فایل 

  Dockerfile پس به سراغ ایجاد کردن داکر فایل میرویماین فایل را به روت اصلی پروژه اضافه میکنیم 

  ---------------------------------------------------------------------
  خب حالا اولین دستورالعمل میخواهیم بگوییم از یک ایمیج پایه شروع کند
  baseImage : 
              فایل های اپلیکشن خودمون + یکسری فایل هایی را دارد که ما میخواهیم ان فایل هارا داشته باشیم
               FROM node از ایمیج نود استفاده کردیم   Dockerfile خب ما در فایل 
               ولی خب ازکجا بفهممیم همچین ایمیجی وجوددارد
               از روی داکرهاب
               همانطور که ما درگیت هاب ریپازیتوری داریم
               در داکرهاب ایمیج هارو نیز داریم

      نکته : 
             اگر به داکر هاب نگاهی بندازیم ایمیج های مختلفی برای نود وجود داره
             این ایمیج ها برای توزیع های مختلف لینوکسی هستند

   FROM node:alpine 
   خب براش مشخص میکنیم از چه توزیعی میخوایم استفاده کنیم از این توزیع استفاده میکنیم چون مدل راحت تری برای دانلود است
    
    درقدم بعدی باید فایل های اپلیکیشن خودرا کپی کنیم
    COPY . /server : 
                 server  میگوییم همه فایل های اپلیکشن جاری رو کپی کن درون یک فولدر به اسم 
                 در ایمیجی که میخوای بسازی کپی کن
                 این ایمیجی که داریم میسازیم یک فایل سیستم دارد
                 که ما میخواهیم درون این فایل سیستم
                 داشته باشیم server  یک دایرکتوری بنام 
                 و هرفایلی که درون اپلیکشن ما وجود دارد را در ان کپی کنیم
 -----------------------------------------------------
این کامندرا اجرا میکنیم CMD  و حالا توسط دستور    

---------------------------------------------------------
  را فراخوانی میکنیم docker build حالا میخواهیم به داکر بگوییم برای ما یک ایمیج بسازد پس درون ترمینال           
                
              docker build -t docker-production در نهایت با این فلگ ان را اجرا میکنیم
              ------------------------------
              اگر داکر اجرا نشد پاورشل رو یا ادمین باز میکنیم و این دستورات رو میزنیم
              شروع سرویس Docker
توی PowerShell (با دسترسی Administrator) این دستور رو بزن:

Start-Service com.docker.service


بررسی وضعیت بعد از شروع

Get-Service *docker*
----------------------------------------------
خب حالا میخواهیم لیست تمام ایمیج ها بدست اوریم 
پس یک کامند جدید باز میکنیم و این دستور رو وارد میکنیم
docker image ls
و این نتیجه حاصل میشود 

docker image ls
REPOSITORY          TAG       IMAGE ID       CREATED         SIZE
docker-production   latest    86fc67926132   2 minutes ago   213MB

-----------------------------------------------------------------
خب حالا میخواهیم بوسیله داکر این ایمیج را اجرا کنیم

C:\Users\DELL>docker run docker-production
[dotenv@17.2.2] injecting env (1) from .env -- tip: ⚙️  suppress all logs with { quiet: true }

درنهایت باید این کد ها باید اجرا شود 
docker build -t docker-producttion .
docker run -p 5010:5010 docker-production

------------------------------------------------------------------------------------
خب حالا میتوانیم این ایمیج رو بروی داکر هاب بار گذاری کنیم تا برروی هر کامپوتره دیگری
ایمیج را دریافت کرده و ازان استفاده کنیم
docker tag docker-production aeinmannani/docker-production:latest  اول این کد رو اجرا کردم 


بعد این کد رو اجرا کردم تا روی داکر هاب پوش بشه 
docker push aeinmannani/docker-production:latest

-----------------------------------------------------------------------
و حالا میتونم روی سیتم های دیگه نصبش رو انجام بدم با این دستورات
docker pull aeinmannani/docker-production:latest
docker run -p 5010:5010 aeinmannani/docker-production:latest
